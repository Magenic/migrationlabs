function PicShareViewModel(){var n=this;n.shouldShowUpload=ko.observable(!1);n.toggleUpload=function(){let t=n.shouldShowUpload();n.shouldShowUpload(!t)};n.pics=ko.observableArray([]);n.searchText=ko.observable("");n.page=ko.observable(0);n.searchPics=function(){let t=30*n.page();var r=n.searchText(),i="search="+n.searchText()+"&take="+n.pageSize+"&offset="+t;$.getJSON("/api/Pictures",i,function(t){n.pics(t)})};n.upload=function(){var t=document.getElementById("uploadForm"),i=new FormData(t);i.append("file",$("#image")[0].files[0]);$.ajax({url:$("#uploadForm").attr("action"),type:"POST",data:i,processData:!1,contentType:!1,success:function(i){console.log(i);n.pics.push(i);t.reset();n.toggleUpload()}})};n.searchPics()}ko.applyBindings(new PicShareViewModel);$("#uploadForm").submit(function(){var n=new FormData(this);return $.post("/api/Pictures",n,function(n){alert(n)}),!1});